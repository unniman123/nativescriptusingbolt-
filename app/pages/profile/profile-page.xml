<?xml version="1.0" encoding="utf-8" ?>
<Page xmlns="http://schemas.nativescript.org/tns.xsd" navigatingTo="onNavigatingTo" class="page">
    <ActionBar title="Profile" class="action-bar">
        <NavigationButton visibility="collapsed" />
        <ActionItem text="Sign Out" 
                   tap="{{ signOut }}" 
                   ios.position="right" 
                   android.position="actionBar" />
    </ActionBar>
    
    <ScrollView>
        <StackLayout class="p-4">
            <!-- Email Status -->
            <GridLayout rows="auto" columns="*, auto" class="m-b-20">
                <Label text="{{ email }}" col="0" class="body" />
                <Label text="{{ isEmailVerified ? '✓ Verified' : '⚠️ Unverified' }}" 
                       col="1"
                       class="{{ isEmailVerified ? 'text-success' : 'text-warning' }}" />
            </GridLayout>

            <!-- Username -->
            <Label text="Username" class="label" />
            <TextField text="{{ username }}" 
                      hint="Enter username" 
                      class="input m-b-10" />
            
            <!-- Game ID -->
            <Label text="Game ID" class="label" />
            <TextField text="{{ gameId }}" 
                      hint="Enter your game ID" 
                      class="input m-b-10" />
            
            <!-- Update Button -->
            <Button text="{{ isLoading ? 'Updating...' : 'Update Profile' }}" 
                    tap="{{ updateProfile }}" 
                    isEnabled="{{ !isLoading }}"
                    class="btn btn-primary m-t-20" />
            
            <!-- Error Message -->
            <Label text="{{ errorMessage }}" 
                   class="text-danger text-center" 
                   textWrap="true"
                   visibility="{{ errorMessage ? 'visible' : 'collapsed' }}" />
        </StackLayout>
    </ScrollView>
</Page>